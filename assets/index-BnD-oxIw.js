(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const Ot=!1;var pt=Array.isArray,Tn=Array.prototype.indexOf,ht=Array.from,Cn=Object.defineProperty,be=Object.getOwnPropertyDescriptor,Wt=Object.getOwnPropertyDescriptors,Pn=Object.prototype,Mn=Array.prototype,gt=Object.getPrototypeOf;const Me=()=>{};function On(e){return e()}function lt(e){for(var t=0;t<e.length;t++)e[t]()}const V=2,Xt=4,et=8,wt=16,re=32,me=64,Ye=128,W=256,We=512,j=1024,oe=2048,Se=4096,ne=8192,tt=16384,Fn=32768,Fe=65536,An=1<<17,Nn=1<<19,Gt=1<<20,de=Symbol("$state"),In=Symbol("legacy props");function Vt(e){return e===this.v}function Zt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Dn(e,t){return e!==t}function Ut(e){return!Zt(e,this.v)}function Rn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Bn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function qn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ln(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function jn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Hn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Yn(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Wn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ee=!1,Xn=!1;function Gn(){Ee=!0}const yt=1,bt=2,Kt=4,Vn=8,Zn=16,Un=2,Kn=1,Jn=2,I=Symbol(),Qn="http://www.w3.org/1999/xhtml";function Jt(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let x=null;function Ft(e){x=e}function $n(e){return Qt().get(e)}function er(e,t){return Qt().set(e,t),t}function pe(e,t=!1,n){x={p:x,c:null,e:null,m:!1,s:e,x:null,l:null},Ee&&!t&&(x.l={s:null,u:null,r1:[],r2:L(!1)})}function he(e){const t=x;if(t!==null){const f=t.e;if(f!==null){var n=S,o=z;t.e=null;try{for(var i=0;i<f.length;i++){var r=f[i];fe(r.effect),ue(r.reaction),zt(r.fn)}}finally{fe(n),ue(o)}}x=t.p,t.m=!0}return{}}function Ae(){return!Ee||x!==null&&x.l===null}function Qt(e){return x===null&&Jt(),x.c??(x.c=new Map(tr(x)||void 0))}function tr(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function L(e,t){var n={f:0,v:e,reactions:null,equals:Vt,rv:0,wv:0};return n}function X(e){return rr(L(e))}function nr(e,t=!1){var o;const n=L(e);return t||(n.equals=Ut),Ee&&x!==null&&x.l!==null&&((o=x.l).s??(o.s=[])).push(n),n}function rr(e){return z!==null&&!G&&(z.f&V)!==0&&(J===null?pr([e]):J.push(e)),e}function E(e,t){return z!==null&&!G&&Ae()&&(z.f&(V|wt))!==0&&(J===null||!J.includes(e))&&Wn(),ut(e,t)}function ut(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=mn(),$t(e,oe),Ae()&&S!==null&&(S.f&j)!==0&&(S.f&(re|me))===0&&(te===null?hr([e]):te.push(e))),t}function $t(e,t){var n=e.reactions;if(n!==null)for(var o=Ae(),i=n.length,r=0;r<i;r++){var f=n[r],v=f.f;(v&oe)===0&&(!o&&f===S||(ee(f,t),(v&(j|W))!==0&&((v&V)!==0?$t(f,Se):ot(f))))}}let or=!1;function P(e,t=null,n){if(typeof e!="object"||e===null||de in e)return e;const o=gt(e);if(o!==Pn&&o!==Mn)return e;var i=new Map,r=pt(e),f=L(0);r&&i.set("length",L(e.length));var v;return new Proxy(e,{defineProperty(_,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&jn();var c=i.get(a);return c===void 0?(c=L(u.value),i.set(a,c)):E(c,P(u.value,v)),!0},deleteProperty(_,a){var u=i.get(a);if(u===void 0)a in _&&i.set(a,L(I));else{if(r&&typeof a=="string"){var c=i.get("length"),s=Number(a);Number.isInteger(s)&&s<c.v&&E(c,s)}E(u,I),At(f)}return!0},get(_,a,u){var d;if(a===de)return e;var c=i.get(a),s=a in _;if(c===void 0&&(!s||(d=be(_,a))!=null&&d.writable)&&(c=L(P(s?_[a]:I,v)),i.set(a,c)),c!==void 0){var m=l(c);return m===I?void 0:m}return Reflect.get(_,a,u)},getOwnPropertyDescriptor(_,a){var u=Reflect.getOwnPropertyDescriptor(_,a);if(u&&"value"in u){var c=i.get(a);c&&(u.value=l(c))}else if(u===void 0){var s=i.get(a),m=s==null?void 0:s.v;if(s!==void 0&&m!==I)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return u},has(_,a){var m;if(a===de)return!0;var u=i.get(a),c=u!==void 0&&u.v!==I||Reflect.has(_,a);if(u!==void 0||S!==null&&(!c||(m=be(_,a))!=null&&m.writable)){u===void 0&&(u=L(c?P(_[a],v):I),i.set(a,u));var s=l(u);if(s===I)return!1}return c},set(_,a,u,c){var C;var s=i.get(a),m=a in _;if(r&&a==="length")for(var d=u;d<s.v;d+=1){var g=i.get(d+"");g!==void 0?E(g,I):d in _&&(g=L(I),i.set(d+"",g))}s===void 0?(!m||(C=be(_,a))!=null&&C.writable)&&(s=L(void 0),E(s,P(u,v)),i.set(a,s)):(m=s.v!==I,E(s,P(u,v)));var h=Reflect.getOwnPropertyDescriptor(_,a);if(h!=null&&h.set&&h.set.call(c,u),!m){if(r&&typeof a=="string"){var b=i.get("length"),T=Number(a);Number.isInteger(T)&&T>=b.v&&E(b,T+1)}At(f)}return!0},ownKeys(_){l(f);var a=Reflect.ownKeys(_).filter(s=>{var m=i.get(s);return m===void 0||m.v!==I});for(var[u,c]of i)c.v!==I&&!(u in _)&&a.push(u);return a},setPrototypeOf(){Hn()}})}function At(e,t=1){E(e,e.v+t)}var Nt,en,tn,nn;function ir(){if(Nt===void 0){Nt=window,en=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;tn=be(t,"firstChild").get,nn=be(t,"nextSibling").get,e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0,Text.prototype.__t=void 0}}function xt(e=""){return document.createTextNode(e)}function Xe(e){return tn.call(e)}function nt(e){return nn.call(e)}function A(e,t){return Xe(e)}function ye(e,t){{var n=Xe(e);return n instanceof Comment&&n.data===""?nt(n):n}}function R(e,t=1,n=!1){let o=e;for(;t--;)o=nt(o);return o}function ar(e){e.textContent=""}function Y(e){var t=V|oe,n=z!==null&&(z.f&V)!==0?z:null;return S===null||n!==null&&(n.f&W)!==0?t|=W:S.f|=Gt,{ctx:x,deps:null,effects:null,equals:Vt,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??S}}function rn(e){const t=Y(e);return t.equals=Ut,t}function on(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)$(t[n])}}function sr(e){for(var t=e.parent;t!==null;){if((t.f&V)===0)return t;t=t.parent}return null}function lr(e){var t,n=S;fe(sr(e));try{on(e),t=hn(e)}finally{fe(n)}return t}function an(e){var t=lr(e),n=(ae||(e.f&W)!==0)&&e.deps!==null?Se:j;ee(e,n),e.equals(t)||(e.v=t,e.wv=mn())}function sn(e){S===null&&z===null&&qn(),z!==null&&(z.f&W)!==0&&S===null&&Bn(),kt&&Rn()}function ur(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ge(e,t,n,o=!0){var i=S,r={ctx:x,deps:null,nodes_start:null,nodes_end:null,f:e|oe,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Tt(r),r.f|=Fn}catch(_){throw $(r),_}else t!==null&&ot(r);var f=n&&r.deps===null&&r.first===null&&r.nodes_start===null&&r.teardown===null&&(r.f&(Gt|Ye))===0;if(!f&&o&&(i!==null&&ur(r,i),z!==null&&(z.f&V)!==0)){var v=z;(v.effects??(v.effects=[])).push(r)}return r}function fr(e){const t=ge(et,null,!1);return ee(t,j),t.teardown=e,t}function se(e){sn();var t=S!==null&&(S.f&re)!==0&&x!==null&&!x.m;if(t){var n=x;(n.e??(n.e=[])).push({fn:e,effect:S,reaction:z})}else{var o=zt(e);return o}}function cr(e){return sn(),ln(e)}function dr(e){const t=ge(me,e,!0);return()=>{$(t)}}function vr(e){const t=ge(me,e,!0);return(n={})=>new Promise(o=>{n.outro?xe(t,()=>{$(t),o(void 0)}):($(t),o(void 0))})}function zt(e){return ge(Xt,e,!1)}function ln(e){return ge(et,e,!0)}function _e(e,t=[],n=Y){const o=t.map(n);return ke(()=>e(...o.map(l)))}function ke(e,t=0){return ge(et|wt|t,e,!0)}function le(e,t=!0){return ge(et|re,e,!0,t)}function un(e){var t=e.teardown;if(t!==null){const n=kt,o=z;It(!0),ue(null);try{t.call(null)}finally{It(n),ue(o)}}}function fn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var o=n.next;(n.f&me)!==0?n.parent=null:$(n,t),n=o}}function _r(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&re)===0&&$(t),t=n}}function $(e,t=!0){var n=!1;if((t||(e.f&Nn)!==0)&&e.nodes_start!==null){for(var o=e.nodes_start,i=e.nodes_end;o!==null;){var r=o===i?null:nt(o);o.remove(),o=r}n=!0}fn(e,t&&!n),Ke(e,0),ee(e,tt);var f=e.transitions;if(f!==null)for(const _ of f)_.stop();un(e);var v=e.parent;v!==null&&v.first!==null&&cn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function cn(e){var t=e.parent,n=e.prev,o=e.next;n!==null&&(n.next=o),o!==null&&(o.prev=n),t!==null&&(t.first===e&&(t.first=o),t.last===e&&(t.last=n))}function xe(e,t){var n=[];St(e,n,!0),dn(n,()=>{$(e),t&&t()})}function dn(e,t){var n=e.length;if(n>0){var o=()=>--n||t();for(var i of e)i.out(o)}else t()}function St(e,t,n){if((e.f&ne)===0){if(e.f^=ne,e.transitions!==null)for(const f of e.transitions)(f.is_global||n)&&t.push(f);for(var o=e.first;o!==null;){var i=o.next,r=(o.f&Fe)!==0||(o.f&re)!==0;St(o,t,r?n:!1),o=i}}}function Ge(e){vn(e,!0)}function vn(e,t){if((e.f&ne)!==0){e.f^=ne,(e.f&j)===0&&(e.f^=j),Ne(e)&&(ee(e,oe),ot(e));for(var n=e.first;n!==null;){var o=n.next,i=(n.f&Fe)!==0||(n.f&re)!==0;vn(n,i?t:!1),n=o}if(e.transitions!==null)for(const r of e.transitions)(r.is_global||t)&&r.in()}}let Ve=[];function mr(){var e=Ve;Ve=[],lt(e)}function Et(e){Ve.length===0&&queueMicrotask(mr),Ve.push(e)}let je=!1,ft=!1,Ze=null,ve=!1,kt=!1;function It(e){kt=e}let He=[];let z=null,G=!1;function ue(e){z=e}let S=null;function fe(e){S=e}let J=null;function pr(e){J=e}let D=null,q=0,te=null;function hr(e){te=e}let _n=1,Ue=0,ae=!1;function mn(){return++_n}function Ne(e){var c;var t=e.f;if((t&oe)!==0)return!0;if((t&Se)!==0){var n=e.deps,o=(t&W)!==0;if(n!==null){var i,r,f=(t&We)!==0,v=o&&S!==null&&!ae,_=n.length;if(f||v){var a=e,u=a.parent;for(i=0;i<_;i++)r=n[i],(f||!((c=r==null?void 0:r.reactions)!=null&&c.includes(a)))&&(r.reactions??(r.reactions=[])).push(a);f&&(a.f^=We),v&&u!==null&&(u.f&W)===0&&(a.f^=W)}for(i=0;i<_;i++)if(r=n[i],Ne(r)&&an(r),r.wv>e.wv)return!0}(!o||S!==null&&!ae)&&ee(e,j)}return!1}function gr(e,t){for(var n=t;n!==null;){if((n.f&Ye)!==0)try{n.fn(e);return}catch{n.f^=Ye}n=n.parent}throw je=!1,e}function wr(e){return(e.f&tt)===0&&(e.parent===null||(e.parent.f&Ye)===0)}function rt(e,t,n,o){if(je){if(n===null&&(je=!1),wr(t))throw e;return}n!==null&&(je=!0);{gr(e,t);return}}function pn(e,t,n=!0){var o=e.reactions;if(o!==null)for(var i=0;i<o.length;i++){var r=o[i];(r.f&V)!==0?pn(r,t,!1):t===r&&(n?ee(r,oe):(r.f&j)!==0&&ee(r,Se),ot(r))}}function hn(e){var m;var t=D,n=q,o=te,i=z,r=ae,f=J,v=x,_=G,a=e.f;D=null,q=0,te=null,ae=(a&W)!==0&&(G||!ve||z===null),z=(a&(re|me))===0?e:null,J=null,Ft(e.ctx),G=!1,Ue++;try{var u=(0,e.fn)(),c=e.deps;if(D!==null){var s;if(Ke(e,q),c!==null&&q>0)for(c.length=q+D.length,s=0;s<D.length;s++)c[q+s]=D[s];else e.deps=c=D;if(!ae)for(s=q;s<c.length;s++)((m=c[s]).reactions??(m.reactions=[])).push(e)}else c!==null&&q<c.length&&(Ke(e,q),c.length=q);if(Ae()&&te!==null&&!G&&c!==null&&(e.f&(V|Se|oe))===0)for(s=0;s<te.length;s++)pn(te[s],e);return i!==null&&Ue++,u}finally{D=t,q=n,te=o,z=i,ae=r,J=f,Ft(v),G=_}}function yr(e,t){let n=t.reactions;if(n!==null){var o=Tn.call(n,e);if(o!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[o]=n[i],n.pop())}}n===null&&(t.f&V)!==0&&(D===null||!D.includes(t))&&(ee(t,Se),(t.f&(W|We))===0&&(t.f^=We),on(t),Ke(t,0))}function Ke(e,t){var n=e.deps;if(n!==null)for(var o=t;o<n.length;o++)yr(e,n[o])}function Tt(e){var t=e.f;if((t&tt)===0){ee(e,j);var n=S,o=x,i=ve;S=e,ve=!0;try{(t&wt)!==0?_r(e):fn(e),un(e);var r=hn(e);e.teardown=typeof r=="function"?r:null,e.wv=_n;var f=e.deps,v;Ot&&Xn&&e.f&oe}catch(_){rt(_,e,n,o||e.ctx)}finally{ve=i,S=n}}}function br(){try{Ln()}catch(e){if(Ze!==null)rt(e,Ze,null);else throw e}}function xr(){var e=ve;try{var t=0;for(ve=!0;He.length>0;){t++>1e3&&br();var n=He,o=n.length;He=[];for(var i=0;i<o;i++){var r=Sr(n[i]);zr(r)}}}finally{ft=!1,ve=e,Ze=null}}function zr(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var o=e[n];if((o.f&(tt|ne))===0)try{Ne(o)&&(Tt(o),o.deps===null&&o.first===null&&o.nodes_start===null&&(o.teardown===null?cn(o):o.fn=null))}catch(i){rt(i,o,null,o.ctx)}}}function ot(e){ft||(ft=!0,queueMicrotask(xr));for(var t=Ze=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(me|re))!==0){if((n&j)===0)return;t.f^=j}}He.push(t)}function Sr(e){for(var t=[],n=e;n!==null;){var o=n.f,i=(o&(re|me))!==0,r=i&&(o&j)!==0;if(!r&&(o&ne)===0){if((o&Xt)!==0)t.push(n);else if(i)n.f^=j;else{var f=z;try{z=n,Ne(n)&&Tt(n)}catch(a){rt(a,n,null,n.ctx)}finally{z=f}}var v=n.first;if(v!==null){n=v;continue}}var _=n.parent;for(n=n.next;n===null&&_!==null;)n=_.next,_=_.parent}return t}function l(e){var t=e.f,n=(t&V)!==0;if(z!==null&&!G){J!==null&&J.includes(e)&&Yn();var o=z.deps;e.rv<Ue&&(e.rv=Ue,D===null&&o!==null&&o[q]===e?q++:D===null?D=[e]:(!ae||!D.includes(e))&&D.push(e))}else if(n&&e.deps===null&&e.effects===null){var i=e,r=i.parent;r!==null&&(r.f&W)===0&&(i.f^=W)}return n&&(i=e,Ne(i)&&an(i)),e.v}function Ct(e){var t=G;try{return G=!0,e()}finally{G=t}}const Er=-7169;function ee(e,t){e.f=e.f&Er|t}function kr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(de in e)ct(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&de in n&&ct(n)}}}function ct(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let o in e)try{ct(e[o],t)}catch{}const n=gt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const o=Wt(n);for(let i in o){const r=o[i].get;if(r)try{r.call(e)}catch{}}}}}const Tr=["touchstart","touchmove"];function Cr(e){return Tr.includes(e)}function Pr(e){var t=z,n=S;ue(null),fe(null);try{return e()}finally{ue(t),fe(n)}}const gn=new Set,dt=new Set;function Mr(e,t,n,o={}){function i(r){if(o.capture||Ce.call(t,r),!r.cancelBubble)return Pr(()=>n==null?void 0:n.call(this,r))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Et(()=>{t.addEventListener(e,i,o)}):t.addEventListener(e,i,o),i}function Ie(e,t,n,o,i){var r={capture:o,passive:i},f=Mr(e,t,n,r);(t===document.body||t===window||t===document)&&fr(()=>{t.removeEventListener(e,f,r)})}function it(e){for(var t=0;t<e.length;t++)gn.add(e[t]);for(var n of dt)n(e)}function Ce(e){var T;var t=this,n=t.ownerDocument,o=e.type,i=((T=e.composedPath)==null?void 0:T.call(e))||[],r=i[0]||e.target,f=0,v=e.__root;if(v){var _=i.indexOf(v);if(_!==-1&&(t===document||t===window)){e.__root=t;return}var a=i.indexOf(t);if(a===-1)return;_<=a&&(f=_)}if(r=i[f]||e.target,r!==t){Cn(e,"currentTarget",{configurable:!0,get(){return r||n}});var u=z,c=S;ue(null),fe(null);try{for(var s,m=[];r!==null;){var d=r.assignedSlot||r.parentNode||r.host||null;try{var g=r["__"+o];if(g!=null&&(!r.disabled||e.target===r))if(pt(g)){var[h,...b]=g;h.apply(r,[e,...b])}else g.call(r,e)}catch(C){s?m.push(C):s=C}if(e.cancelBubble||d===t||d===null)break;r=d}if(s){for(let C of m)queueMicrotask(()=>{throw C});throw s}}finally{e.__root=t,delete e.currentTarget,ue(u),fe(c)}}}function Or(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function vt(e,t){var n=S;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function B(e,t){var n=(t&Kn)!==0,o=(t&Jn)!==0,i,r=!e.startsWith("<!>");return()=>{i===void 0&&(i=Or(r?e:"<!>"+e),n||(i=Xe(i)));var f=o||en?document.importNode(i,!0):i.cloneNode(!0);if(n){var v=Xe(f),_=f.lastChild;vt(v,_)}else vt(f,f);return f}}function Je(){var e=document.createDocumentFragment(),t=document.createComment(""),n=xt();return e.append(t,n),vt(t,n),e}function O(e,t){e!==null&&e.before(t)}function Qe(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Fr(e,t){return Ar(e,t)}const we=new Map;function Ar(e,{target:t,anchor:n,props:o={},events:i,context:r,intro:f=!0}){ir();var v=new Set,_=c=>{for(var s=0;s<c.length;s++){var m=c[s];if(!v.has(m)){v.add(m);var d=Cr(m);t.addEventListener(m,Ce,{passive:d});var g=we.get(m);g===void 0?(document.addEventListener(m,Ce,{passive:d}),we.set(m,1)):we.set(m,g+1)}}};_(ht(gn)),dt.add(_);var a=void 0,u=vr(()=>{var c=n??t.appendChild(xt());return le(()=>{if(r){pe({});var s=x;s.c=r}i&&(o.$$events=i),a=e(c,o)||{},r&&he()}),()=>{var d;for(var s of v){t.removeEventListener(s,Ce);var m=we.get(s);--m===0?(document.removeEventListener(s,Ce),we.delete(s)):we.set(s,m)}dt.delete(_),c!==n&&((d=c.parentNode)==null||d.removeChild(c))}});return Nr.set(a,u),a}let Nr=new WeakMap;function Pe(e,t,[n,o]=[0,0]){var i=e,r=null,f=null,v=I,_=n>0?Fe:0,a=!1;const u=(s,m=!0)=>{a=!0,c(m,s)},c=(s,m)=>{v!==(v=s)&&(v?(r?Ge(r):m&&(r=le(()=>m(i))),f&&xe(f,()=>{f=null})):(f?Ge(f):m&&(f=le(()=>m(i,[n+1,o]))),r&&xe(r,()=>{r=null})))};ke(()=>{a=!1,t(u),a||c(null,null)},_)}function Ir(e,t,n){var o=e,i=I,r,f=Ae()?Dn:Zt;ke(()=>{f(i,i=t())&&(r&&xe(r),r=le(()=>n(o)))})}function Dr(e,t){return t}function Rr(e,t,n,o){for(var i=[],r=t.length,f=0;f<r;f++)St(t[f].e,i,!0);var v=r>0&&i.length===0&&n!==null;if(v){var _=n.parentNode;ar(_),_.append(n),o.clear(),ie(e,t[0].prev,t[r-1].next)}dn(i,()=>{for(var a=0;a<r;a++){var u=t[a];v||(o.delete(u.k),ie(e,u.prev,u.next)),$(u.e,!v)}})}function wn(e,t,n,o,i,r=null){var f=e,v={flags:t,items:new Map,first:null},_=(t&Kt)!==0;if(_){var a=e;f=a.appendChild(xt())}var u=null,c=!1,s=rn(()=>{var m=n();return pt(m)?m:m==null?[]:ht(m)});ke(()=>{var m=l(s),d=m.length;c&&d===0||(c=d===0,Br(m,v,f,i,t,o,n),r!==null&&(d===0?u?Ge(u):u=le(()=>r(f)):u!==null&&xe(u,()=>{u=null})),l(s))})}function Br(e,t,n,o,i,r,f){var F,K,ce,Be;var v=(i&Vn)!==0,_=(i&(yt|bt))!==0,a=e.length,u=t.items,c=t.first,s=c,m,d=null,g,h=[],b=[],T,C,w,y;if(v)for(y=0;y<a;y+=1)T=e[y],C=r(T,y),w=u.get(C),w!==void 0&&((F=w.a)==null||F.measure(),(g??(g=new Set)).add(w));for(y=0;y<a;y+=1){if(T=e[y],C=r(T,y),w=u.get(C),w===void 0){var Z=s?s.e.nodes_start:n;d=Lr(Z,t,d,d===null?t.first:d.next,T,C,y,o,i,f),u.set(C,d),h=[],b=[],s=d.next;continue}if(_&&qr(w,T,y,i),(w.e.f&ne)!==0&&(Ge(w.e),v&&((K=w.a)==null||K.unfix(),(g??(g=new Set)).delete(w))),w!==s){if(m!==void 0&&m.has(w)){if(h.length<b.length){var U=b[0],H;d=U.prev;var De=h[0],Re=h[h.length-1];for(H=0;H<h.length;H+=1)Dt(h[H],U,n);for(H=0;H<b.length;H+=1)m.delete(b[H]);ie(t,De.prev,Re.next),ie(t,d,De),ie(t,Re,U),s=U,d=Re,y-=1,h=[],b=[]}else m.delete(w),Dt(w,s,n),ie(t,w.prev,w.next),ie(t,w,d===null?t.first:d.next),ie(t,d,w),d=w;continue}for(h=[],b=[];s!==null&&s.k!==C;)(s.e.f&ne)===0&&(m??(m=new Set)).add(s),b.push(s),s=s.next;if(s===null)continue;w=s}h.push(w),d=w,s=w.next}if(s!==null||m!==void 0){for(var p=m===void 0?[]:ht(m);s!==null;)(s.e.f&ne)===0&&p.push(s),s=s.next;var k=p.length;if(k>0){var M=(i&Kt)!==0&&a===0?n:null;if(v){for(y=0;y<k;y+=1)(ce=p[y].a)==null||ce.measure();for(y=0;y<k;y+=1)(Be=p[y].a)==null||Be.fix()}Rr(t,p,M,u)}}v&&Et(()=>{var qe;if(g!==void 0)for(w of g)(qe=w.a)==null||qe.apply()}),S.first=t.first&&t.first.e,S.last=d&&d.e}function qr(e,t,n,o){(o&yt)!==0&&ut(e.v,t),(o&bt)!==0?ut(e.i,n):e.i=n}function Lr(e,t,n,o,i,r,f,v,_,a){var u=(_&yt)!==0,c=(_&Zn)===0,s=u?c?nr(i):L(i):i,m=(_&bt)===0?f:L(f),d={i:m,v:s,k:r,a:null,e:null,prev:n,next:o};try{return d.e=le(()=>v(e,s,m,a),or),d.e.prev=n&&n.e,d.e.next=o&&o.e,n===null?t.first=d:(n.next=d,n.e.next=d.e),o!==null&&(o.prev=d,o.e.prev=d.e),d}finally{}}function Dt(e,t,n){for(var o=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,r=e.e.nodes_start;r!==o;){var f=nt(r);i.before(r),r=f}}function ie(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function jr(e,t,...n){var o=e,i=Me,r;ke(()=>{i!==(i=t())&&(r&&($(r),r=null),r=le(()=>i(o,...n)))},Fe)}function Hr(e,t,n){var o=e,i,r;ke(()=>{i!==(i=t())&&(r&&(xe(r),r=null),i&&(r=le(()=>n(o,i))))},Fe)}function yn(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=yn(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Yr(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=yn(e))&&(o&&(o+=" "),o+=t);return o}function _t(e){return typeof e=="object"?Yr(e):e??""}function Wr(e,t,n){var o=e==null?"":""+e;return o===""?null:o}function Xr(e,t){return e==null?null:String(e)}function $e(e,t,n,o,i,r){var f=e.__className;if(f!==n){var v=Wr(n);v==null?e.removeAttribute("class"):e.className=v,e.__className=n}return r}function Q(e,t,n,o){var i=e.__style;if(i!==t){var r=Xr(t);r==null?e.removeAttribute("style"):e.style.cssText=r,e.__style=t}return o}const Gr=Symbol("is custom element"),Vr=Symbol("is html");function Zr(e,t,n,o){var i=Ur(e);i[t]!==(i[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&Kr(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ur(e){return e.__attributes??(e.__attributes={[Gr]:e.nodeName.includes("-"),[Vr]:e.namespaceURI===Qn})}var Rt=new Map;function Kr(e){var t=Rt.get(e.nodeName);if(t)return t;Rt.set(e.nodeName,t=[]);for(var n,o=e,i=Element.prototype;i!==o;){n=Wt(o);for(var r in n)n[r].set&&t.push(r);o=gt(o)}return t}function Bt(e,t){return e===t||(e==null?void 0:e[de])===t}function Pt(e={},t,n,o){return zt(()=>{var i,r;return ln(()=>{i=r,r=[],Ct(()=>{e!==n(...r)&&(t(e,...r),i&&Bt(n(...i),e)&&t(null,...i))})}),()=>{Et(()=>{r&&Bt(n(...r),e)&&t(null,...r)})}}),e}function Jr(e=!1){const t=x,n=t.l.u;if(!n)return;let o=()=>kr(t.s);if(e){let i=0,r={};const f=Y(()=>{let v=!1;const _=t.s;for(const a in _)_[a]!==r[a]&&(r[a]=_[a],v=!0);return v&&i++,i});o=()=>l(f)}n.b.length&&cr(()=>{qt(t,o),lt(n.b)}),se(()=>{const i=Ct(()=>n.m.map(On));return()=>{for(const r of i)typeof r=="function"&&r()}}),n.a.length&&se(()=>{qt(t,o),lt(n.a)})}function qt(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let Le=!1;function Qr(e){var t=Le;try{return Le=!1,[e(),Le]}finally{Le=t}}function $r(e,t,n,o){var m;var i=!Ee||(n&Un)!==0,r=!1,f;[f,r]=Qr(()=>e[t]);var v=de in e||In in e;((m=be(e,t))==null?void 0:m.set)??(v&&t in e);var _=o,a=!0,u=()=>(a&&(a=!1,_=o),_),c;if(i)c=()=>{var d=e[t];return d===void 0?u():(a=!0,d)};else{var s=rn(()=>e[t]);s.f|=An,c=()=>{var d=l(s);return d!==void 0&&(_=void 0),d===void 0?_:d}}return c}function at(e){x===null&&Jt(),Ee&&x.l!==null?eo(x).m.push(e):se(()=>{const t=Ct(e);if(typeof t=="function")return t})}function eo(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const to="5";var Yt;typeof window<"u"&&((Yt=window.__svelte??(window.__svelte={})).v??(Yt.v=new Set)).add(to);function no(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var st={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Lt;function ro(){return Lt||(Lt=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r="",f=0;f<arguments.length;f++){var v=arguments[f];v&&(r=i(r,o(v)))}return r}function o(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return n.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var f="";for(var v in r)t.call(r,v)&&r[v]&&(f=i(f,v));return f}function i(r,f){return f?r?r+" "+f:r+f:r}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(st)),st.exports}var oo=ro();const mt=no(oo);async function Oe(...e){return console.log(`🔻 Uplink:
`,e),console.log("Must run in dev mode for uplink to work"),null}function io(e,t){const[n,o]=e,[i,r]=t;return{x:Math.min(n,i),y:Math.min(o,r),w:Math.abs(n-i)+1,h:Math.abs(o-r)+1}}const N=3;function ao(e,t,n,o){switch(e){case"l":return{...t,x:Math.min(t.x+n,t.x+t.w-N),w:Math.max(N,t.w-n)};case"r":return{...t,w:Math.max(N,t.w+n)};case"t":return{...t,y:Math.min(t.y+o,t.y+t.h-N),h:Math.max(N,t.h-o)};case"b":return{...t,h:Math.max(N,t.h+o)};case"br":return{...t,h:Math.max(N,t.h+o),w:Math.max(N,t.w+n)};case"tl":return{...t,y:Math.min(t.y+o,t.y+t.h-N),h:Math.max(2,t.h-o),x:Math.min(t.x+n,t.x+t.w-N),w:Math.max(2,t.w-n)};case"tr":return{...t,y:Math.min(t.y+o,t.y+t.h-N),h:Math.max(N,t.h-o),w:Math.max(N,t.w+n)};case"bl":return{...t,h:Math.max(N,t.h+o),x:Math.min(t.x+n,t.x+t.w-N),w:Math.max(N,t.w-n)}}}function so(e,t){try{return JSON.parse(localStorage.getItem(e))||t}catch{return t}}function lo(e){let o=X(.1);const i=.001;let r=X(P({width:0,height:0,renderedWidth:0,renderedHeight:0,offsetX:0,offsetY:0,screenW:0,screenH:0,scaled:1})),f=X(null);const v="pos",_=so(v,{z:1,x:0,y:0});let a=P(_);dr(()=>{se(()=>{a.z,a.x,a.y,setTimeout(()=>{localStorage.setItem(v,JSON.stringify({...a}))},100)})});let u=X(0),c=X(0),s=Y(()=>T(l(u),l(c))),m=Y(()=>l(s)[0]),d=Y(()=>l(s)[1]),g=Y(()=>({x:l(m),y:l(d),w:1,h:1}));const h=2;let b=Y(()=>({x:-a.z-l(r).width/2/30/a.z-h,y:-a.z-l(r).height/2/30/a.z-h,w:l(r).width/30/a.z+h,h:l(r).height/30/a.z+h}));function T(p,k){const M=Math.floor((p-l(r).offsetX-a.x*a.z*30-l(r).renderedWidth/2)/30/a.z),F=Math.floor((k-l(r).offsetY-a.y*a.z*30-l(r).renderedHeight/2)/30/a.z);return[M,F]}function C(p,k){const M=p-l(r).offsetX-l(r).width/2,F=k-l(r).offsetY-l(r).width/2;return[M,F]}const w=p=>({x:p.x*30,y:p.y*30,w:p.w*30,h:p.h*30});function y(p,k,M){k||(k=l(r).width/2+l(r).offsetX),M||(M=l(r).height/2+l(r).offsetY);let F=p;p<l(o)&&(F=l(o)),p>4&&(F=4);const K=1-F/a.z;if(K!==0){const ce=C(k,M);a.x+=ce[0]*K/F/30,a.y+=ce[1]*K/F/30}a.z=F}function Z(p){const k=(p.w+5)*30,M=(p.h+5)*30,F=l(r).width/k,K=l(r).height/M;E(o,P(Math.min(F,K,.5)))}function U(p){const k=(p.w+5)*30,M=(p.h+5)*30,F=l(r).renderedWidth/k,K=l(r).renderedHeight/M,ce=Math.min(F,K,.5);a.z=ce;const Be=p.x+p.w/2+2.5-l(r).width*a.z/30/2,qe=p.y+p.h/2+2.5-l(r).height*a.z/30/2;a.x=-Be,a.y=-qe}function H(p,k=1){const M=w(p);return`
      width: ${M.w}px;
      height: ${M.h}px;
      transform: translateX(${M.x}px) translateY(${M.y}px) scale(${k});
    `}const De=Y(()=>1/a.z*(a.z>.2?6:4));return{cmd:{setZoom:y,setViewport:p=>{E(r,P(p))},setZoomFromWheel:p=>{y(a.z+p*i,l(u),l(c))},setMouseXY(p,k){E(u,P(p)),E(c,P(k))},pan(p,k){(p||k)&&(a.x=a.x+p/a.z/30,a.y=a.y+k/a.z/30)},panTo(p,k){a.x=p,a.y=k},setMinZoomToFitBox:Z,panZoomToFit:U},boxStyle:H,get vp(){return l(r)},get vpEl(){return l(f)},set vpEl(p){E(f,P(p))},get vpBox(){return l(b)},get boxBorderRadius(){return`border-radius: ${l(De)}px;`},grid:{size:30,toPx:p=>p*30,boxToPx:w},get pos(){return a},mouse:{get gridX(){return l(m)},get gridY(){return l(d)},get clientX(){return l(u)},get clientY(){return l(c)},get box(){return l(g)}},mouseToGridPos:T}}Gn();var uo=B('<div class="rounded-b-md overflow-hidden relative h-full w-full"><img class="w-full h-full object-cover" src="/images/ezequiel.jpg" alt="Ezequiel on the park smiling" draggable="false"> <div class="absolute bottom-4 left-4 text-white text-[27px] font-black text-shadow-[0px_0px_2px_rgba(0,0,0,0.8)] uppercase tracking-wide">Ezequiel<br>Adrián<br>Schwartzman</div></div>');function fo(e){var t=uo();O(e,t)}const co=Object.freeze(Object.defineProperty({__proto__:null,default:fo},Symbol.toStringTag,{value:"Module"})),Te=(e,t=Me,n=Me,o=Me)=>{var i=vo(),r=A(i),f=A(r),v=A(f),_=A(v),a=R(v,4),u=A(a);_e(()=>{Zr(r,"href",t()),Qe(_,n()),Qe(u,o())}),O(e,i)};var vo=B('<div><a target="_blank" class="group text-blue-400 b-blue-400 b-0 b-solid rounded-t-md px1 hover:b-b hover:bg-blue-400/10"><span class="b-b b-dashed b-blue-400 group-hover:b-none"><span class="font-bold inline-block w-22"> </span> <span class="text-blue-400">@</span> <span class="text-blue-300"> </span></span></a></div>'),_o=B('<div class="rounded-md size-full bg-black/50 rounded-md p4 text-lg"><!> <!> <!> <!> <!></div>');function mo(e){var t=_o(),n=A(t);Te(n,()=>"https://t.me/zequez",()=>"Telegram",()=>"Zequez");var o=R(n,2);Te(o,()=>"https://github.com/zequez",()=>"Github",()=>"Zequez");var i=R(o,2);Te(i,()=>"https://medium.com/@ezequiel.schwartzman",()=>"Medium",()=>"ezequiel.schwartzman");var r=R(i,2);Te(r,()=>"https://www.youtube.com/@EzequielSchwartzman",()=>"YouTube",()=>"EzequielSchwartzman");var f=R(r,2);Te(f,()=>"https://instagram.com/ezequiel.servicio",()=>"Instagram",()=>"ezequiel.servicio"),O(e,t)}const po=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));var ho=e=>e.stopPropagation(),go=B(`<div class="bg-gray-50 size-full rounded-b-md p4 text-lg tracking-wider overflow-auto">Once every evolving cycle I write a letter for my circle. <div>I share my latest research discoveries from my experiments.</div> <div>I share my commitments for the next cycle.</div> <div>I share the articles, videos, notes and websites I've created.</div> <div>I share books and films I've read and watched.</div> <div>I share spaces that you can join in.</div> <div>I share proposals and experiments for you to try.</div></div>`);function wo(e){var t=go();t.__mousedown=[ho],Ie("wheel",t,n=>n.stopPropagation()),O(e,t)}it(["mousedown"]);const yo=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"})),bn={x:-5,y:-7,w:11,h:16},xn=1746667379152,bo={box:bn,updatedAt:xn},xo=Object.freeze(Object.defineProperty({__proto__:null,box:bn,default:bo,updatedAt:xn},Symbol.toStringTag,{value:"Module"})),zn={x:7,y:-7,w:12,h:7},Sn=1746667379152,zo={box:zn,updatedAt:Sn},So=Object.freeze(Object.defineProperty({__proto__:null,box:zn,default:zo,updatedAt:Sn},Symbol.toStringTag,{value:"Module"})),En={x:7,y:1,w:12,h:8},kn=1746795246728,Eo={box:En,updatedAt:kn},ko=Object.freeze(Object.defineProperty({__proto__:null,box:En,default:Eo,updatedAt:kn},Symbol.toStringTag,{value:"Module"})),jt=Object.assign({"../frames/ezequiel.svelte":co,"../frames/links.svelte":po,"../frames/news-letter.svelte":yo}),Ht=Object.assign({"../frames/ezequiel.meta.json":xo,"../frames/links.meta.json":So,"../frames/news-letter.meta.json":ko}),Mt={};for(const e in jt){const t=e.split("/").pop().split(".")[0];Mt[t]={Component:jt[e].default,meta:null}}for(const e in Ht){const t=e.split("/").pop().split(".")[0];Mt[t].meta=Ht[e].default}function To(){let e=P(Mt);async function t(i,r){e[i].meta={...e[i].meta,...r},await Oe("writeFile",`frames/${i}.meta.json`,{type:"text",data:JSON.stringify(e[i].meta,null,2)})}async function n(i,r){e[r]=e[i],delete e[i],await Oe("renameFrameComponent",i,r)}async function o(i){delete e[i],await Oe("removeFrameComponent",i)}return{get all(){return e},updateMeta:t,rename:n,remove:o}}function Co(...e){let t=lo(),n=To(),o=X(null);se(()=>{}),at(async()=>{});async function i(...u){switch(console.log("⭕️",u),u[0]){case"ping":{await Oe("ping","Test");break}case"rename-frame":{u[1]!==u[2]&&n.rename(u[1],u[2]);break}case"rename-creating-frame":{if(!l(o))return;l(o).name=u[1];break}case"cancel-creating-frame":{E(o,null);break}case"commit-new-frame":{if(!l(o))return;await Oe("createFrameComponent",l(o).name,JSON.stringify({box:l(o).box,updatedAt:Date.now()},null,2),'<div class="bg-white rounded-b-md size-full">Hello there</div>'),E(o,null);break}}}let r=X(P({type:"none"}));async function f(u,...c){switch(console.log("MouseDown",u.button,c),c[0]){case"space":{if(u.button===1)E(r,P({type:"panning",panned:!1}));else if(u.button===0){const s=t.mouseToGridPos(u.clientX,u.clientY);E(r,P({type:"createFrame",start:s,end:s,resultingBox:{x:s[0],y:s[1],w:1,h:1}}))}break}case"frame":{if(u.button===0){u.stopPropagation();const s=n.all[c[1]];E(r,P({type:"moveFrame",name:c[1],start:t.mouseToGridPos(u.clientX,u.clientY),resultingBox:{...s.meta.box}}))}break}case"resizeHandler":{u.stopPropagation();const s=n.all[c[1]];E(r,P({type:"resizeFrame",name:c[1],handler:c[2],gridPosStart:t.mouseToGridPos(u.clientX,u.clientY),resultingBox:{...s.meta.box}}))}}}async function v(u,...c){switch(c[0]){case"space":{if(t.cmd.setMouseXY(u.clientX,u.clientY),l(r).type==="none")return;switch(u.stopPropagation(),l(r).type){case"panning":{l(r).panned||(l(r).panned=!0),t.cmd.pan(u.movementX,u.movementY);break}case"createFrame":{const[s,m]=t.mouseToGridPos(u.clientX,u.clientY);l(r).end=[s,m],l(r).resultingBox=io(l(r).start,l(r).end);break}case"moveFrame":{const[s,m]=t.mouseToGridPos(u.clientX,u.clientY),d=l(r).start[0]-s,g=l(r).start[1]-m,h=n.all[l(r).name].meta.box;l(r).resultingBox.x=h.x-d,l(r).resultingBox.y=h.y-g;break}case"resizeFrame":{const s=t.mouseToGridPos(u.clientX,u.clientY),m=s[0]-l(r).gridPosStart[0],d=s[1]-l(r).gridPosStart[1],g=n.all[l(r).name].meta.box;l(r).resultingBox=ao(l(r).handler,g,m,d)}}}}}async function _(u,...c){switch(c[0]){case"space":{if(l(r).type==="none")return;switch(u.stopPropagation(),l(r).type){case"createFrame":{l(o)?(l(o).box=l(r).resultingBox,l(o).timestamp=Date.now()):E(o,P({box:l(r).resultingBox,name:`frame-${Object.keys(n.all).length}`,timestamp:Date.now()}));break}case"moveFrame":{t.vp.screenW-u.clientX<=100&&t.vp.screenH-u.clientY<=100?n.remove(l(r).name):n.updateMeta(l(r).name,{box:l(r).resultingBox});break}case"resizeFrame":{n.updateMeta(l(r).name,{box:l(r).resultingBox});break}}E(r,P({type:"none"}));break}}}async function a(u,...c){switch(c[0]){case"space":u.preventDefault(),u.stopPropagation(),t.cmd.setZoomFromWheel(u.deltaY)}}return{cmd:i,ev:{mousedown:f,mousemove:v,mouseup:_,wheel:a},get dragState(){return l(r)},get framesComponents(){return n.all},get creatingFrame(){return l(o)},space:t}}const ze={createStoreContext:(...e)=>{const t=Co(...e);er("main-store",t)},get store(){return $n("main-store")}};var Po=(e,t)=>t.ev.mouseup(e,"space"),Mo=(e,t)=>t.ev.mousemove(e,"space"),Oo=(e,t)=>t.ev.mousedown(e,"space"),Fo=e=>e.preventDefault(),Ao=B('<div role="presentation"><div role="presentation" class="absolute inset-0 cursor-"><div><!></div></div></div>');function No(e,t){pe(t,!0);const n=ze.store,o=ze.store.space;se(()=>{t.viewportContext.parentPos.x,t.viewportContext.parentPos.y,t.viewportContext.parentPos.z,f()});const i=Y(()=>{const{x:s,y:m,z:d}=o.pos,g=o.grid.size;return`transform: translateX(${(s*g+o.vp.renderedWidth/2)*d}px) translateY(${(m*g+o.vp.renderedHeight/2)*d}px) scale(${d})`});let r=X(null);function f(){const{width:s,height:m,left:d,top:g}=l(r).getBoundingClientRect(),h=window.innerWidth,b=window.innerHeight;t.viewportContext.parentPos.z&&o.cmd.setViewport({width:s/t.viewportContext.parentPos.z,height:m/t.viewportContext.parentPos.z,renderedWidth:s,renderedHeight:m,offsetX:d,offsetY:g,screenW:h,screenH:b,scaled:t.viewportContext.parentPos.z})}at(()=>{const s=new ResizeObserver(m=>{f()});return s.observe(l(r)),window.addEventListener("resize",f),f(),()=>{s.disconnect(),window.removeEventListener("resize",f)}});var v=Ao();v.__mouseup=[Po,n],v.__mousemove=[Mo,n],v.__mousedown=[Oo,n],v.__contextmenu=[Fo];var _=A(v),a=A(_),u=A(a);{var c=s=>{var m=Je(),d=ye(m);jr(d,()=>t.children??Me),O(s,m)};Pe(u,s=>{o.vp.width&&o.vp.height&&s(c)})}Pt(v,s=>E(r,s),()=>l(r)),_e((s,m)=>{$e(v,1,s),$e(a,1,m),Q(a,l(i))},[()=>_t(mt("absolute inset-0 overflow-hidden ",{"cursor-grabbing":n.dragState.type==="panning","cursor-cell":n.dragState.type==="createFrame"})),()=>_t(mt("absolute top-0 left-0 size-full will-change-transform",{"z-frames-container":!1}))]),Ie("wheel",v,s=>n.ev.wheel(s,"space")),O(e,v),he()}it(["mouseup","mousemove","mousedown","contextmenu"]);var Io=B('<canvas class="h-full w-full absolute top-0 left-0 z-grid pointer-events-none"></canvas>');function Do(e,t){pe(t,!0);let n=X(null),o=Y(()=>l(n)?l(n).getContext("2d"):null),i=0,r=0;se(()=>{(t.vp.width!==i||t.vp.height!==r)&&(l(n).width=t.vp.width,l(n).height=t.vp.height),l(o)&&t.vp.width>0&&t.vp.height>0&&f(),r=t.vp.height,i=t.vp.width});function f(){const _=t.color+"3",a=t.color+"6",u=t.color+"2",c=t.size*t.pos.z/t.vp.scaled,s=t.pos.x*c+t.vp.width/2+0,m=t.pos.y*c+t.vp.height/2+0;if(l(o).clearRect(0,0,t.vp.width,t.vp.height),t.pos.z<=.08)l(o).fillStyle=u,l(o).fillRect(0,0,t.vp.width,t.vp.height);else{l(o).strokeStyle=_,l(o).lineWidth=.5,l(o).save(),l(o).translate(s%c-c,m%c-c);for(let d=0;d<=t.vp.width+c;d+=c)l(o).beginPath(),l(o).moveTo(d,0),l(o).lineTo(d,t.vp.height+c*2),l(o).stroke();for(let d=0;d<=t.vp.height+c*2;d+=c)l(o).beginPath(),l(o).moveTo(0,d),l(o).lineTo(t.vp.width+c,d),l(o).stroke();l(o).restore()}l(o).lineWidth=2,l(o).strokeStyle=a}var v=Io();Pt(v,_=>E(n,_),()=>l(n)),O(e,v),he()}var Ro=B('<div role="button" tabindex="0"></div>');function Bo(e,t){pe(t,!1);let n=$r(t,"onMouseDown",8);const o=["l","r","b","t","tr","br","tl","bl"],i={t:"cursor-ns-resize left-0 -top-1 h2 w-full z-50",b:"cursor-ns-resize left-0 -bottom-1 h2 w-full z-50",l:"cursor-ew-resize -left-1 top-0 h-full w2 z-50",r:"cursor-ew-resize -right-1 top-0 h-full w2 z-50",tl:"cursor-nwse-resize -left-2 -top-2 h4 w4 z-51",tr:"cursor-nesw-resize -right-2 -top-2 h4 w4 z-51",bl:"cursor-nesw-resize -left-2 -bottom-2 h4 w4 z-51",br:"cursor-nwse-resize -right-2 -bottom-2 h4 w4 z-51"};Jr();var r=Je(),f=ye(r);wn(f,1,()=>o,Dr,(v,_)=>{var a=Ro();_e(()=>$e(a,1,`hidden group-hover/frame:block absolute hover:bg-blue-300 bg-black/0 rounded-sm ${i[l(_)]??""}`)),Ie("mousedown",a,u=>n()(u,l(_))),O(v,a)}),O(e,r),he()}var qo=(e,t,n)=>t.ev.mousedown(e,"frame",n.name),Lo=e=>e.key==="Enter"&&e.currentTarget.blur(),jo=e=>e.stopPropagation(),Ho=B('<div class="absolute group/frame"><div class="bg-blue-100 tracking-wider font-mono absolute top-0 w-full rounded-t-md px2 flexcs cursor-move" role="button" tabindex="0">/ <div contenteditable="true" role="textbox" tabindex="0" class="cursor-text bg-transparent rounded-sm outline-blue-300 focus:outline-solid focus:bg-blue-50"> </div></div> <div class="absolute w-full bottom-0"><!></div> <!></div>');function Yo(e,t){pe(t,!0);const n=ze.store;function o(s,m){const d=s.currentTarget.innerText.trim();console.log(d),n.cmd("rename-frame",m,d)}const i=Y(()=>n.dragState.type==="moveFrame"&&n.dragState.name===t.name||n.dragState.type==="resizeFrame"&&n.dragState.name===t.name?n.dragState.resultingBox:t.meta.box);var r=Ho(),f=A(r);f.__mousedown=[qo,n,t];var v=R(A(f));v.__keydown=[Lo],v.__mousedown=[jo];var _=A(v),a=R(f,2),u=A(a);Hr(u,()=>t.Component,(s,m)=>{m(s,{})});var c=R(a,2);Bo(c,{onMouseDown:(s,m)=>n.ev.mousedown(s,"resizeHandler",t.name,m)}),_e(s=>{Q(r,s),Q(f,`height: ${n.space.grid.size}px;`),Qe(_,t.name),Q(a,`top: ${n.space.grid.size}px;`)},[()=>n.space.boxStyle(l(i))]),Ie("blur",v,s=>o(s,t.name)),O(e,r),he()}it(["mousedown","keydown"]);var Wo=(e,t,n)=>{e.key==="Enter"?t():e.key==="Escape"&&n()},Xo=e=>e.stopPropagation(),Go=B('<div class="absolute"><div class="bg-blue-100 tracking-wider font-mono absolute top-0 w-full rounded-t-md px2 flexcs cursor-move" role="button" tabindex="0">/ <div contenteditable="true" role="textbox" tabindex="0"> </div></div> <div class="absolute w-full bottom-0 bg-white rounded-b-md"></div></div>');function Vo(e,t){pe(t,!0);const n=ze.store;let o=X(null);async function i(){if(l(o)){const d=l(o).innerText.trim();await n.cmd("rename-creating-frame",d),n.framesComponents[d]||await n.cmd("commit-new-frame")}}function r(d){setTimeout(()=>{i()},100)}function f(){n.cmd("cancel-creating-frame")}let v=X(!1);function _(){const d=l(o).innerText.trim();E(v,!!n.framesComponents[d])}at(()=>{l(o).focus();const d=window.getSelection(),g=document.createRange();g.selectNodeContents(l(o)),d==null||d.removeAllRanges(),d==null||d.addRange(g),_()});var a=Go(),u=A(a),c=R(A(u));c.__keyup=_,c.__keydown=[Wo,i,f],c.__mousedown=[Xo];var s=A(c);Pt(c,d=>E(o,d),()=>l(o));var m=R(u,2);_e((d,g)=>{Q(a,d),Q(u,`height: ${n.space.grid.size}px;`),$e(c,1,g),Qe(s,t.name),Q(m,`top: ${n.space.grid.size}px;`)},[()=>n.space.boxStyle(t.box),()=>_t(mt("cursor-text bg-transparent rounded-sm outline-blue-300 focus:outline-solid focus:bg-blue-50",{"outline-red-300! bg-red-50!":l(v)}))]),Ie("blur",c,d=>r()),O(e,a),he()}it(["keyup","keydown","mousedown"]);var Zo=B('<div class="absolute bottom-0 right-0 rounded-tl-lg h[100px] w[100px] bg-red z-100 pointer-events-none"></div>'),Uo=B('<div class="absolute bg-white/50 rounded-md b-3 b-blue-100"><div class="bg-blue-100 absolute top-0 w-full px2"></div></div>'),Ko=B('<div class="absolute bg-white/30 rounded-md"></div>'),Jo=B("<!> <!> <!>",1),Qo=B("<!> <!> <!>",1);function $o(e,t){pe(t,!0),ze.createStoreContext();const n=ze.store;at(async()=>{}),se(()=>{n.dragState?document.body.classList.add("select-none"):document.body.classList.remove("select-none")});var o=Qo(),i=ye(o);Do(i,{get pos(){return n.space.pos},get vp(){return n.space.vp},get size(){return n.space.grid.size},color:"#fff"});var r=R(i,2);{var f=_=>{var a=Zo();O(_,a)};Pe(r,_=>{n.dragState.type==="moveFrame"&&_(f)})}var v=R(r,2);No(v,{viewportContext:{depth:0,parentPos:{x:0,y:0,z:1}},children:(_,a)=>{var u=Jo(),c=ye(u);wn(c,17,()=>Object.entries(n.framesComponents),([h,{meta:b,Component:T}])=>h,(h,b)=>{let T=()=>l(b)[0],C=()=>l(b)[1].meta,w=()=>l(b)[1].Component;Yo(h,{get name(){return T()},get Component(){return w()},get meta(){return C()}})});var s=R(c,2);{var m=h=>{var b=Je(),T=ye(b);{var C=y=>{var Z=Uo(),U=A(Z);_e(H=>{Q(Z,H),Q(U,`height: ${n.space.grid.size-3}px;`)},[()=>n.space.boxStyle(n.dragState.resultingBox)]),O(y,Z)},w=y=>{var Z=Ko();_e(U=>Q(Z,U),[()=>n.space.boxStyle(n.dragState.resultingBox)]),O(y,Z)};Pe(T,y=>{n.dragState.resultingBox.w>=3&&n.dragState.resultingBox.h>=3?y(C):y(w,!1)})}O(h,b)};Pe(s,h=>{n.dragState.type==="createFrame"&&h(m)})}var d=R(s,2);{var g=h=>{var b=Je(),T=ye(b);Ir(T,()=>n.creatingFrame.timestamp,C=>{Vo(C,{get name(){return n.creatingFrame.name},get box(){return n.creatingFrame.box}})}),O(h,b)};Pe(d,h=>{n.creatingFrame&&h(g)})}O(_,u)},$$slots:{default:!0}}),O(e,o),he()}Fr($o,{target:document.getElementById("root"),props:{}});
